---
layout: default
---
<input id="search" placeholder="filter" type="text"/>

<ul>
{% for session in site.sessions %}
    <li id="{{session.title | slugify}}" class="session-item"><p><a href="{{ session.url | relative_url }}">{{ session.title }}</a></p></li>
{% endfor %}
</ul>
Send pull requests on our <a href="https://github.com/ProAgileAB/short-learning-sessions">github page</a>

<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
<script lang="javascript">
    let sessions = [
        {% for session in site.sessions %}
            { "title": {{ session.title | jsonify }} 
            , "content": {{ session.content | strip_html | escape | jsonify }} 
            },
        {% endfor %}
    ];
    let map = {
        {% for session in site.sessions %}
        "{{session.title}}": "{{session.title | slugify}}",
        {% endfor %}
    }
    let fuse = new Fuse(sessions, {keys: ["title", "content"]});
    function search(e) {
        let result = fuse.search(e.target.value);
        console.log(result)
        let toShow = result.map(r => r.item.title)
        document.querySelectorAll(".session-item").forEach(element => {
            if (toShow.includes[map[element.id]]) {
                element.style = ""
            } else {
                element.style = "display: none;"
            }
        });
    }
    document.getElementById("search").addEventListener('change', search)
</script>